<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>CodeForge++ | Lesson</title>
  <link rel="stylesheet" href="styles/enhanced_styles.css" />
  <link rel="stylesheet" href="styles/animations.css" />
</head>
<body>
  <header class="glass header-slide-in compact-header">
    <div class="nav-container">
      <h1 class="logo">
        <span class="logo-text">CodeForge++</span>
        <span class="logo-icon">{<></>}</span>
      </h1>
      <div class="menu-toggle" id="menuToggle">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
      <nav>
        <ul class="nav-menu" id="navMenu">
          <li><a href="index.html" class="nav-link">Home</a></li>
          <li><a href="exercises.html" class="nav-link">Exercises</a></li>
          <li><a href="progress.html" class="nav-link">Progress</a></li>
          <li><a href="resources.html" class="nav-link">Resources</a></li>
          <li><a href="portfolio.html" class="nav-link">Portfolio</a></li>
          <li><a href="resume.html" class="nav-link">Resume</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="page-content fade-in">
    <section class="lesson-details glass">
      <h2 id="lesson-title">Lesson Title</h2>
      <p id="lesson-description">
        Loading lesson details...
      </p>

      <hr/>

      <h3>Logic Exercises</h3>
      <ul id="lesson-challenges">
        <!-- Dynamically populated with logic questions or puzzle statements. -->
      </ul>

      <button id="open-ide-btn" class="btn" style="margin-top:20px;">Open IDE</button>
    </section>
  </main>

  <footer>
    <p>Â© 2025 CodeForge++. All rights reserved.</p>
  </footer>

  <script src="scripts/main.js"></script>
  <script>
    // Parse lessonID from query param
    const urlParams = new URLSearchParams(window.location.search);
    const lessonID = urlParams.get('lessonID') || 'M1L1';

    // Fake lesson data
    const lessonData = {
      'M1L1': {
        title: 'RAII & Constructors',
        description: `Learn about Resource Acquisition Is Initialization (RAII), how constructors and destructors manage resources in modern C++. 
                      Understand the principle behind safe, exception-proof code.`,
        challenges: [
          'Write a small class that opens a file in the constructor and closes it in the destructor.',
          'Demonstrate how RAII prevents resource leaks under exceptions.'
        ]
      },
      'M1L2': {
        title: 'Smart Pointers & Move Semantics',
        description: `Deep dive into unique_ptr, shared_ptr, and weak_ptr. Understand how move semantics can optimize performance and reduce copies.`,
        challenges: [
          'Convert raw pointer usage to std::unique_ptr in a legacy code snippet.',
          'Show how an object can be transferred (moved) without copying.'
        ]
      },
      // ... and so on for all lessons
    };

    const currentLesson = lessonData[lessonID] || {
      title: 'Unknown Lesson',
      description: 'No data found.',
      challenges: []
    };

    document.getElementById('lesson-title').innerText = currentLesson.title;
    document.getElementById('lesson-description').innerText = currentLesson.description;

    const challengesList = document.getElementById('lesson-challenges');
    currentLesson.challenges.forEach(ch => {
      const li = document.createElement('li');
      li.innerText = ch;
      challengesList.appendChild(li);
    });

    // "Open IDE" to code the solution
    document.getElementById('open-ide-btn').addEventListener('click', () => {
      window.location.href = `ide.html?lessonID=${lessonID}`;
    });
  </script>
</body>
</html>
